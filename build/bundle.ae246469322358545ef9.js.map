{"version":3,"sources":["webpack:///bundle.ae246469322358545ef9.js","webpack:///webpack/bootstrap ae246469322358545ef9","webpack:///./app/index.js","webpack:///./app/game-controller.js","webpack:///./app/input-controller.js","webpack:///./app/menu/menu-controller.js","webpack:///./app/menu/button-controller.js","webpack:///./app/snake-controller.js","webpack:///./app/position.js","webpack:///./app/food-controller.js","webpack:///./app/menu/settings-controller.js","webpack:///./app/Assets/style.scss?bf16","webpack:///./app/Assets/style.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_gameController","_gameController2","_settingsController","_settingsController2","window","document","canvas","getElementById","context","getContext","fpsLabel","scoreLabel","gameController","width","height","requestAnimationFrame","scoreUpdateHook","score","textContent","setInterval","fps","toFixed","start","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_inputController","_inputController2","_menuController","_menuController2","_snakeController","_snakeController2","_foodController","GameController","element","requestAnimFrame","this","Error","ctx","isGameRunning","segmentSize","gameWidth","Math","floor","gameHeight","offsetX","offsetY","snakeController","foodController","FoodFactory","menuController","onGameStart","bind","inputController","keyup","onKeyInput","currentFood","updateSpeed","lastRun","showMenu","clearRect","delta","Date","getTime","renderLoop","render","updateFPS","move","doesCollideWith","position","increaseTail","tailStack","updateFood","hasCollided","gameOver","setTimeout","controllerLoop","isGameOver","reset","clearScreen","food","randomFood","InputController","inputHandlers","_this","eventListenerRefs","keys","forEach","event","suppressRef","suppressKeyDownMovement","attachListeners","keyCode","preventDefault","_this2","addEventListener","_this3","removeEventListener","_buttonController","_buttonController2","MenuController","maxWidth","maxHeight","onStartCallback","playButton","fillStyle","fillRect","strokeStyle","strokeRect","font","fillText","getMenuText","setup","defaultButtonColors","freeze","base","pressed","hover","ButtonController","buttonLeft","buttonTop","buttonWidth","buttonHeight","buttonColor","buttonColorPressed","buttonColorHover","eventRefs","mousedown","handleClick","mouseup","handleRelease","mousemove","handleMove","buttonText","isButtonClicked","isAwaitingUnclick","isButtonHovered","elemLeft","offsetLeft","elemTop","offsetTop","x","pageX","y","pageY","detachListeners","style","cursor","_position","_position2","Direction","up","right","down","left","SnakeController","size","head","direction","shouldRedraw","removedPiece","canChangeDirection","push","unshift","pop","gameObject","collidesWithTail","equals","renderPosition","toRenderDomain","removedRenderPostion","randomRange","min","max","random","Position","otherPosition","minX","minY","maxX","maxY","Food","undefined","hasDrawn","SpeedSettingController","labelElement","increaseElement","decreaseElement","updateGameSpeedFunc","speed","listenerRefs","increase","onClick","decrease","shouldIncrease","console","log","SettingsController","speedController","content","locals","list","toString","result","item","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","type","createLinkElement","linkElement","rel","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean"],"mappings":"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","file":"bundle.ae246469322358545ef9.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _gameController = __webpack_require__(2);\n\t\n\tvar _gameController2 = _interopRequireDefault(_gameController);\n\t\n\tvar _settingsController = __webpack_require__(9);\n\t\n\tvar _settingsController2 = _interopRequireDefault(_settingsController);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(10);\n\t\n\t(function (window, document) {\n\t\n\t  var canvas = document.getElementById('game-canvas');\n\t  var context = canvas.getContext('2d');\n\t\n\t  var fpsLabel = document.getElementById('fps');\n\t  var scoreLabel = document.getElementById('score');\n\t\n\t  var gameController = new _gameController2.default(canvas, context, canvas.width, canvas.height, window.requestAnimationFrame);\n\t  var settingsController = new _settingsController2.default(document, gameController);\n\t\n\t  gameController.scoreUpdateHook = function (score) {\n\t    scoreLabel.textContent = score;\n\t  };\n\t\n\t  setInterval(function () {\n\t    fpsLabel.textContent = gameController.fps.toFixed(2);\n\t  }, 500);\n\t\n\t  gameController.start();\n\t})(window, window.document);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _inputController = __webpack_require__(3);\n\t\n\tvar _inputController2 = _interopRequireDefault(_inputController);\n\t\n\tvar _menuController = __webpack_require__(4);\n\t\n\tvar _menuController2 = _interopRequireDefault(_menuController);\n\t\n\tvar _snakeController = __webpack_require__(6);\n\t\n\tvar _snakeController2 = _interopRequireDefault(_snakeController);\n\t\n\tvar _foodController = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar GameController = function () {\n\t  function GameController(element, context, width, height, requestAnimFrame) {\n\t    _classCallCheck(this, GameController);\n\t\n\t    if (width <= 0) throw new Error('width must be greater than 0');\n\t    if (height <= 0) throw new Error('height must be greater than 0');\n\t    if (!context) throw new Error('Missing context');\n\t    if (!requestAnimFrame) throw new Error('Missing requestAnimFrame');\n\t\n\t    this.ctx = context;\n\t    this.element = element;\n\t    this.width = width;\n\t    this.height = height;\n\t    this.isGameRunning = false;\n\t    this.requestAnimFrame = requestAnimFrame;\n\t\n\t    var segmentSize = 16;\n\t    var gameWidth = Math.floor(width / segmentSize);\n\t    var gameHeight = Math.floor(height / segmentSize);\n\t    var offsetX = (this.width - segmentSize) / 2;\n\t    var offsetY = (this.height - segmentSize) / 2;\n\t\n\t    this.snakeController = new _snakeController2.default(context, 16, gameWidth, gameHeight);\n\t    this.foodController = new _foodController.FoodFactory(context, segmentSize, offsetX, offsetY, gameWidth, gameHeight);\n\t    this.menuController = new _menuController2.default(element, context, width, height, this.onGameStart.bind(this));\n\t    this.inputController = new _inputController2.default(element, {\n\t      keyup: this.snakeController.onKeyInput.bind(this.snakeController)\n\t    });\n\t\n\t    this.scoreUpdateHook = function () {};\n\t\n\t    this.currentFood = null;\n\t\n\t    this.updateSpeed = 1000; // mili\n\t\n\t    this.fps = 0;\n\t    this.lastRun = null;\n\t\n\t    this.showMenu();\n\t  }\n\t\n\t  _createClass(GameController, [{\n\t    key: 'clearScreen',\n\t    value: function clearScreen() {\n\t      this.ctx.clearRect(0, 0, this.width, this.height);\n\t    }\n\t  }, {\n\t    key: 'updateFPS',\n\t    value: function updateFPS() {\n\t      var delta = (new Date().getTime() - this.lastRun) / 1000;\n\t      this.lastRun = new Date().getTime();\n\t      this.fps = 1 / delta;\n\t    }\n\t  }, {\n\t    key: 'renderLoop',\n\t    value: function renderLoop() {\n\t      if (!this.isGameRunning) return;\n\t      var requestAnimFrame = this.requestAnimFrame;\n\t      var renderLoop = this.renderLoop.bind(this);\n\t\n\t      if (!this.lastRun) {\n\t        this.lastRun = new Date().getTime();\n\t        requestAnimFrame(renderLoop);\n\t        return;\n\t      }\n\t\n\t      if (this.currentFood) {\n\t        this.currentFood.render();\n\t      }\n\t      this.snakeController.render();\n\t\n\t      this.updateFPS();\n\t\n\t      requestAnimFrame(renderLoop);\n\t    }\n\t  }, {\n\t    key: 'controllerLoop',\n\t    value: function controllerLoop() {\n\t      if (!this.isGameRunning) return;\n\t      this.snakeController.move();\n\t\n\t      if (this.currentFood) {\n\t        if (this.snakeController.doesCollideWith(this.currentFood.position)) {\n\t          // console.log(`NomNom: ${[this.currentFood.position].map(v => `(${v.x},${v.y})`)}`);\n\t          // Nom-Nom\n\t          this.currentFood = null;\n\t          this.snakeController.increaseTail();\n\t          this.scoreUpdateHook(this.snakeController.tailStack.length);\n\t        }\n\t      } else {\n\t        this.updateFood();\n\t      }\n\t\n\t      if (this.snakeController.hasCollided()) {\n\t        this.gameOver();\n\t        return;\n\t      }\n\t\n\t      setTimeout(this.controllerLoop.bind(this), this.updateSpeed);\n\t    }\n\t  }, {\n\t    key: 'showMenu',\n\t    value: function showMenu() {\n\t      this.menuController.render(this.isGameOver);\n\t    }\n\t  }, {\n\t    key: 'onGameStart',\n\t    value: function onGameStart() {\n\t      this.snakeController.reset();\n\t      this.clearScreen();\n\t      this.isGameRunning = true;\n\t      this.isGameOver = false;\n\t      this.renderLoop();\n\t      this.controllerLoop();\n\t    }\n\t  }, {\n\t    key: 'gameOver',\n\t    value: function gameOver() {\n\t      this.isGameRunning = false;\n\t      this.isGameOver = true;\n\t      this.clearScreen();\n\t      this.showMenu();\n\t    }\n\t  }, {\n\t    key: 'updateFood',\n\t    value: function updateFood() {\n\t      var food = this.foodController.randomFood();\n\t\n\t      while (this.snakeController.doesCollideWith(food)) {\n\t        food = this.foodController.randomFood();\n\t      }\n\t\n\t      this.currentFood = food;\n\t    }\n\t  }, {\n\t    key: 'start',\n\t    value: function start() {\n\t      this.clearScreen();\n\t      this.showMenu();\n\t    }\n\t  }]);\n\t\n\t  return GameController;\n\t}();\n\t\n\texports.default = GameController;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar InputController = function () {\n\t  /**\n\t   * element {DOM-Element} - Canvas element\n\t   * keyHandlers {Object {inputEventType : Callback}} - Key handling callbacks\n\t   */\n\t\n\t  function InputController(element, inputHandlers) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, InputController);\n\t\n\t    this.element = element;\n\t    this.inputHandlers = inputHandlers;\n\t\n\t    this.eventListenerRefs = {};\n\t\n\t    Object.keys(inputHandlers).forEach(function (key) {\n\t      _this.eventListenerRefs[key] = function (event) {\n\t        if (event && inputHandlers && inputHandlers[key]) {\n\t          inputHandlers[key](event);\n\t        }\n\t      };\n\t    });\n\t\n\t    this.suppressRef = this.suppressKeyDownMovement.bind(this);\n\t\n\t    this.attachListeners();\n\t  }\n\t\n\t  _createClass(InputController, [{\n\t    key: 'suppressKeyDownMovement',\n\t    value: function suppressKeyDownMovement(event) {\n\t      switch (event.keyCode) {\n\t        case 37:case 39:case 38:case 40: // Arrow keys\n\t        case 32:\n\t          event.preventDefault();break; // Space\n\t        default:\n\t          break; // do not block other keys\n\t      }\n\t    }\n\t  }, {\n\t    key: 'attachListeners',\n\t    value: function attachListeners() {\n\t      var _this2 = this;\n\t\n\t      Object.keys(this.eventListenerRefs).forEach(function (key) {\n\t        window.addEventListener(key, _this2.eventListenerRefs[key], true);\n\t      });\n\t      window.addEventListener('keydown', this.suppressRef, false);\n\t    }\n\t  }, {\n\t    key: 'detachListeners',\n\t    value: function detachListeners() {\n\t      var _this3 = this;\n\t\n\t      Object.keys(this.eventListenerRefs).forEach(function (key) {\n\t        window.removeEventListener(key, _this3.eventListenerRefs[key]);\n\t      });\n\t      window.removeEventListener('keydown', this.suppressRef);\n\t    }\n\t  }]);\n\t\n\t  return InputController;\n\t}();\n\t\n\texports.default = InputController;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _buttonController = __webpack_require__(5);\n\t\n\tvar _buttonController2 = _interopRequireDefault(_buttonController);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar MenuController = function () {\n\t  function MenuController(element, context, maxWidth, maxHeight, onStartCallback) {\n\t    _classCallCheck(this, MenuController);\n\t\n\t    this.ctx = context;\n\t    this.maxWidth = maxWidth;\n\t    this.maxHeight = maxHeight;\n\t    this.onStartCallback = onStartCallback;\n\t\n\t    this.playButton = new _buttonController2.default(element, context, maxWidth, maxHeight, onStartCallback);\n\t  }\n\t\n\t  _createClass(MenuController, [{\n\t    key: 'getMenuText',\n\t    value: function getMenuText(isGameOver) {\n\t      isGameOver = isGameOver || false;\n\t      if (isGameOver) {\n\t        return 'Game Over';\n\t      }\n\t      return 'Ready';\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render(isGameOver) {\n\t      this.ctx.fillStyle = '#90CAF9';\n\t      this.ctx.fillRect(this.maxWidth * 0.2, this.maxHeight * 0.2, this.maxWidth * 0.6, this.maxHeight * 0.6);\n\t      this.ctx.strokeStyle = '#42A5F5';\n\t      this.ctx.strokeRect(this.maxWidth * 0.2, this.maxHeight * 0.2, this.maxWidth * 0.6, this.maxHeight * 0.6);\n\t      this.ctx.fillStyle = 'black';\n\t      this.ctx.font = '30px Arial';\n\t      this.ctx.fillText(this.getMenuText(isGameOver), this.maxWidth * 0.2 + 20, this.maxHeight * 0.2 + 40, this.maxWidth * 0.6);\n\t      this.playButton.setup(isGameOver);\n\t      this.playButton.render();\n\t    }\n\t  }]);\n\t\n\t  return MenuController;\n\t}();\n\t\n\texports.default = MenuController;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defaultButtonColors = Object.freeze({\n\t  base: '#F44336',\n\t  pressed: '#D32F2F',\n\t  hover: '#E53935'\n\t});\n\t\n\tvar ButtonController = function () {\n\t  function ButtonController(element, context, maxWidth, maxHeight, onStartCallback) {\n\t    _classCallCheck(this, ButtonController);\n\t\n\t    this.ctx = context;\n\t    this.element = element;\n\t    this.maxWidth = maxWidth;\n\t    this.maxHeight = maxHeight;\n\t    this.onStartCallback = onStartCallback;\n\t\n\t    this.buttonLeft = this.maxWidth * 0.2 + 20;\n\t    this.buttonTop = this.maxHeight * 0.6 - 20;\n\t    this.buttonWidth = this.maxWidth * 0.6 - 40;\n\t\n\t    this.buttonHeight = 80;\n\t    this.buttonColor = defaultButtonColors.base;\n\t    this.buttonColorPressed = defaultButtonColors.pressed;\n\t    this.buttonColorHover = defaultButtonColors.hover;\n\t\n\t    // Event Handlers Init\n\t    this.eventRefs = {\n\t      mousedown: this.handleClick.bind(this),\n\t      mouseup: this.handleRelease.bind(this),\n\t      mousemove: this.handleMove.bind(this)\n\t    };\n\t  }\n\t\n\t  _createClass(ButtonController, [{\n\t    key: 'setup',\n\t    value: function setup(isGameOver) {\n\t      this.buttonText = isGameOver ? 'Play Again' : 'Play Game';\n\t      this.isButtonClicked = false;\n\t      this.isAwaitingUnclick = false;\n\t      this.isButtonHovered = false;\n\t      this.attachListeners();\n\t    }\n\t  }, {\n\t    key: 'handleClick',\n\t    value: function handleClick(event) {\n\t      var elemLeft = this.element.offsetLeft;\n\t      var elemTop = this.element.offsetTop;\n\t\n\t      var x = event.pageX - elemLeft;\n\t      var y = event.pageY - elemTop;\n\t\n\t      if (x >= this.buttonLeft && x <= this.buttonLeft + this.buttonWidth && y >= this.buttonTop && y <= this.buttonTop + this.buttonHeight) {\n\t        this.isButtonClicked = true;\n\t      } else {\n\t        this.isButtonClicked = false;\n\t      }\n\t\n\t      this.render();\n\t    }\n\t  }, {\n\t    key: 'handleRelease',\n\t    value: function handleRelease(event) {\n\t      var elemLeft = this.element.offsetLeft;\n\t      var elemTop = this.element.offsetTop;\n\t\n\t      var x = event.pageX - elemLeft;\n\t      var y = event.pageY - elemTop;\n\t\n\t      if (x >= this.buttonLeft && x <= this.buttonLeft + this.buttonWidth && y >= this.buttonTop && y <= this.buttonTop + this.buttonHeight) {\n\t        if (this.isButtonClicked) {\n\t          this.detachListeners();\n\t          this.onStartCallback();\n\t          this.element.style.cursor = 'auto';\n\t          return;\n\t        }\n\t\n\t        this.isButtonClicked = false;\n\t      }\n\t      this.render();\n\t    }\n\t  }, {\n\t    key: 'handleMove',\n\t    value: function handleMove(event) {\n\t      var elemLeft = this.element.offsetLeft;\n\t      var elemTop = this.element.offsetTop;\n\t\n\t      var x = event.pageX - elemLeft;\n\t      var y = event.pageY - elemTop;\n\t\n\t      if (x >= this.buttonLeft && x <= this.buttonLeft + this.buttonWidth && y >= this.buttonTop && y <= this.buttonTop + this.buttonHeight) {\n\t        this.isButtonHovered = true;\n\t        this.element.style.cursor = 'pointer';\n\t        this.render();\n\t      } else if (this.isButtonHovered) {\n\t        this.isButtonHovered = false;\n\t        this.isButtonClicked = false;\n\t        this.element.style.cursor = 'auto';\n\t        this.render();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'attachListeners',\n\t    value: function attachListeners() {\n\t      this.element.addEventListener('mousedown', this.eventRefs.mousedown, false);\n\t      this.element.addEventListener('mouseup', this.eventRefs.mouseup, false);\n\t      this.element.addEventListener('mousemove', this.eventRefs.mousemove, false);\n\t    }\n\t  }, {\n\t    key: 'detachListeners',\n\t    value: function detachListeners() {\n\t      this.element.removeEventListener('mousedown', this.eventRefs.mousedown);\n\t      this.element.removeEventListener('mouseup', this.eventRefs.mouseup);\n\t      this.element.removeEventListener('mousemove', this.eventRefs.mousemove);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (this.isButtonClicked) {\n\t        this.ctx.fillStyle = this.buttonColorPressed;\n\t      } else if (this.isButtonHovered) {\n\t        this.ctx.fillStyle = this.buttonColorHover;\n\t      } else {\n\t        this.ctx.fillStyle = this.buttonColor;\n\t      }\n\t      this.ctx.fillRect(this.buttonLeft, this.buttonTop, this.buttonWidth, this.buttonHeight);\n\t      this.ctx.fillStyle = 'black';\n\t      this.ctx.font = '30px Arial';\n\t      this.ctx.fillText(this.buttonText, this.maxWidth * 0.2 + 40, this.maxHeight * 0.6 + 30, this.maxWidth * 0.6);\n\t    }\n\t  }]);\n\t\n\t  return ButtonController;\n\t}();\n\t\n\texports.default = ButtonController;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _position = __webpack_require__(7);\n\t\n\tvar _position2 = _interopRequireDefault(_position);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Direction = Object.freeze({\n\t  up: 0,\n\t  right: 1,\n\t  down: 2,\n\t  left: 3\n\t});\n\t\n\tvar SnakeController = function () {\n\t  function SnakeController(context, segmentSize, gameWidth, gameHeight) {\n\t    _classCallCheck(this, SnakeController);\n\t\n\t    // Offset is in pixels\n\t    if (!context) throw new Error('Missing context');\n\t\n\t    this.ctx = context;\n\t    this.gameWidth = gameWidth;\n\t    this.gameHeight = gameHeight;\n\t    this.size = segmentSize;\n\t\n\t    this.reset();\n\t  }\n\t\n\t  _createClass(SnakeController, [{\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.head = new _position2.default(Math.floor(this.gameWidth / 2), Math.floor(this.gameHeight / 2));\n\t      this.tailStack = [];\n\t      this.direction = Direction.up;\n\t      this.shouldRedraw = true;\n\t\n\t      this.removedPiece = null;\n\t      this.canChangeDirection = true;\n\t    }\n\t  }, {\n\t    key: 'onKeyInput',\n\t    value: function onKeyInput(event) {\n\t      if (!event) return;\n\t      if (this.canChangeDirection) {\n\t        switch (event.keyCode) {\n\t          case 37:\n\t            if (this.direction !== Direction.right) {\n\t              this.direction = Direction.left;\n\t              this.canChangeDirection = false;\n\t            }\n\t            break;\n\t          case 38:\n\t            if (this.direction !== Direction.down) {\n\t              this.direction = Direction.up;\n\t              this.canChangeDirection = false;\n\t            }\n\t            break;\n\t          case 39:\n\t            if (this.direction !== Direction.left) {\n\t              this.direction = Direction.right;\n\t              this.canChangeDirection = false;\n\t            }\n\t            break;\n\t          case 40:\n\t            if (this.direction !== Direction.up) {\n\t              this.direction = Direction.down;\n\t              this.canChangeDirection = false;\n\t            }\n\t            break;\n\t          default:\n\t            break;\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'increaseTail',\n\t    value: function increaseTail() {\n\t      if (this.tailStack.length > 0) {\n\t        this.tailStack.push(this.tailStack[this.tailStack.length - 1]);\n\t      } else {\n\t        this.tailStack.push(this.removedPiece);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'move',\n\t    value: function move() {\n\t      // Case 0: Head and no tail\n\t      // Case 1: Head and tail\n\t      this.removedPiece = this.head;\n\t      if (this.tailStack.length > 0) {\n\t        this.tailStack.unshift(this.head);\n\t        this.removedPiece = this.tailStack.pop();\n\t      }\n\t      switch (this.direction) {\n\t        case Direction.up:\n\t          this.head = new _position2.default(this.head.x, this.head.y - 1);\n\t          break;\n\t        case Direction.right:\n\t          this.head = new _position2.default(this.head.x + 1, this.head.y);\n\t          break;\n\t        case Direction.down:\n\t          this.head = new _position2.default(this.head.x, this.head.y + 1);\n\t          break;\n\t        case Direction.left:\n\t          this.head = new _position2.default(this.head.x - 1, this.head.y);\n\t          break;\n\t        default:\n\t          break;\n\t      }\n\t      this.shouldRedraw = true;\n\t      this.canChangeDirection = true;\n\t      // console.log(`Head: ${this.head.toString()}, Tail: [${this.tailStack.map(v => v.toString())}]`);\n\t    }\n\t\n\t    /**\n\t     * @param  {Position} gameObject Position of object to determine collisions\n\t     * @return {bool}                Does it ~~blend~~ collide\n\t     */\n\t\n\t  }, {\n\t    key: 'doesCollideWith',\n\t    value: function doesCollideWith(gameObject) {\n\t      return this.collidesWithTail(gameObject) || this.head.equals(gameObject);\n\t    }\n\t  }, {\n\t    key: 'collidesWithTail',\n\t    value: function collidesWithTail(gameObject) {\n\t      for (var i = 0; i < this.tailStack.length; i++) {\n\t        if (this.tailStack[i].equals(gameObject)) {\n\t          return true;\n\t        }\n\t      }\n\t\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'hasCollided',\n\t    value: function hasCollided() {\n\t      // Edge\n\t      if (this.head.x < 0 || this.head.x >= this.gameWidth || this.head.y < 0 || this.head.y >= this.gameHeight) {\n\t        return true;\n\t      }\n\t      // TODO: Itself\n\t      this.collidesWithTail(this.head);\n\t\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      if (this.shouldRedraw) {\n\t        this.ctx.fillStyle = '#FF0000';\n\t        var renderPosition = this.head.toRenderDomain(this.size);\n\t        this.ctx.fillRect(renderPosition.x, renderPosition.y, this.size, this.size);\n\t\n\t        if (this.removedPiece) {\n\t          var removedRenderPostion = this.removedPiece.toRenderDomain(this.size);\n\t          this.ctx.clearRect(removedRenderPostion.x, removedRenderPostion.y, this.size, this.size);\n\t        }\n\t        this.shouldRedraw = false;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return SnakeController;\n\t}();\n\t\n\texports.default = SnakeController;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction randomRange(min, max) {\n\t  return Math.floor(Math.random() * (max - min + 1)) + min;\n\t}\n\t\n\tvar Position = function () {\n\t  /*\n\t   * A game-domain object for defining where elements of game-objects exist.\n\t   * Position will always be a multiple of 1 (for snake) and will be used to\n\t   *  determine hit boxes (see `equals`) and for renderinging\n\t   */\n\t\n\t  function Position(x, y) {\n\t    _classCallCheck(this, Position);\n\t\n\t    this.x = x;\n\t    this.y = y;\n\t  }\n\t\n\t  _createClass(Position, [{\n\t    key: \"toString\",\n\t    value: function toString() {\n\t      return \"(\" + this.x + \",\" + this.y + \")\";\n\t    }\n\t\n\t    /**\n\t     * Generate random position in x,y range\n\t     * @param  {int} minX Minimum x position (inclusive)\n\t     * @param  {int} minY Minimum y position (inclusive)\n\t     * @param  {int} maxX Maximum x position (inclusive)\n\t     * @param  {int} maxY Maximum y position (inclusive)\n\t     * @return {Position} Generated random position\n\t     */\n\t\n\t  }, {\n\t    key: \"equals\",\n\t    value: function equals(otherPosition) {\n\t      return this.x === otherPosition.x && this.y === otherPosition.y;\n\t    }\n\t\n\t    /**\n\t     * Translates game-domain to render-domain to simplify rendering the game object\n\t     * @param  {int} segmentSize Size of each game segmentSize\n\t     * @param  {int} offsetX     Any offset for rendering in X direction\n\t     * @param  {int} offsetY     Any offset for rendering in X direction\n\t     * @return {Position}        render-domain position\n\t     */\n\t\n\t  }, {\n\t    key: \"toRenderDomain\",\n\t    value: function toRenderDomain(segmentSize, offsetX, offsetY) {\n\t      offsetX = offsetX || 0;\n\t      offsetY = offsetY || 0;\n\t      return new Position(segmentSize * this.x + offsetX, segmentSize * this.y + offsetY);\n\t    }\n\t  }], [{\n\t    key: \"random\",\n\t    value: function random(minX, minY, maxX, maxY) {\n\t      return new Position(randomRange(minX, maxX - 1), randomRange(minY, maxY - 1));\n\t    }\n\t  }]);\n\t\n\t  return Position;\n\t}();\n\t\n\texports.default = Position;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Food = exports.FoodFactory = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _position = __webpack_require__(7);\n\t\n\tvar _position2 = _interopRequireDefault(_position);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Food = function () {\n\t  function Food(context, position, size, offsetX, offsetY) {\n\t    _classCallCheck(this, Food);\n\t\n\t    this.ctx = context;\n\t    this.position = position;\n\t    this.size = size;\n\t    this.offsetX = offsetX;\n\t    this.offsetY = offsetY;\n\t    this.hasDrawn = false;\n\t    // console.log('Food @', position);\n\t  }\n\t\n\t  _createClass(Food, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      if (this.hasDrawn) return;\n\t      this.ctx.fillStyle = '#0000FF';\n\t      var renderPosition = this.position.toRenderDomain(this.size);\n\t      this.ctx.fillRect(renderPosition.x, renderPosition.y, this.size, this.size);\n\t    }\n\t  }]);\n\t\n\t  return Food;\n\t}();\n\t\n\tvar FoodFactory = function () {\n\t  /*\n\t   * `width`, `height` are game-domain max-range definitions (ex. 20 for a 400px board at 20px `segmentSize`)\n\t   */\n\t\n\t  function FoodFactory(context, segmentSize, offsetX, offsetY, width, height) {\n\t    _classCallCheck(this, FoodFactory);\n\t\n\t    this.ctx = context;\n\t    this.segmentSize = segmentSize;\n\t    this.offsetX = offsetX;\n\t    this.offsetY = offsetY;\n\t    this.width = width;\n\t    this.height = height;\n\t  }\n\t\n\t  _createClass(FoodFactory, [{\n\t    key: 'randomFood',\n\t    value: function randomFood() {\n\t      return new Food(this.ctx, _position2.default.random(0, 0, this.width, this.height), this.segmentSize, this.offsetX, this.offsetY);\n\t    }\n\t  }]);\n\t\n\t  return FoodFactory;\n\t}();\n\t\n\texports.FoodFactory = FoodFactory;\n\texports.Food = Food;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SpeedSettingController = function () {\n\t  function SpeedSettingController(labelElement, increaseElement, decreaseElement, updateGameSpeedFunc) {\n\t    _classCallCheck(this, SpeedSettingController);\n\t\n\t    this.labelElement = labelElement;\n\t    this.increaseElement = increaseElement;\n\t    this.decreaseElement = decreaseElement;\n\t    this.updateGameSpeedFunc = updateGameSpeedFunc;\n\t\n\t    this.speed = 1;\n\t\n\t    this.listenerRefs = {\n\t      increase: this.onClick.bind(this, true),\n\t      decrease: this.onClick.bind(this, false)\n\t    };\n\t    this.attachListeners();\n\t  }\n\t\n\t  _createClass(SpeedSettingController, [{\n\t    key: 'onClick',\n\t    value: function onClick(shouldIncrease) {\n\t      this.speed *= shouldIncrease ? 2 : 0.5;\n\t      console.log('next speed', this.speed);\n\t      this.updateGameSpeedFunc(1000 / this.speed);\n\t      this.labelElement.textContent = this.speed.toFixed(2);\n\t    }\n\t  }, {\n\t    key: 'attachListeners',\n\t    value: function attachListeners() {\n\t      this.increaseElement.addEventListener('click', this.listenerRefs.increase, false);\n\t      this.decreaseElement.addEventListener('click', this.listenerRefs.decrease, false);\n\t    }\n\t  }, {\n\t    key: 'detachListeners',\n\t    value: function detachListeners() {\n\t      this.increaseElement.removeEventListener('click', this.listenerRefs.increase);\n\t      this.decreaseElement.removeEventListener('click', this.listenerRefs.decrease);\n\t    }\n\t  }]);\n\t\n\t  return SpeedSettingController;\n\t}();\n\t\n\tvar SettingsController = function SettingsController(document, gameController) {\n\t  _classCallCheck(this, SettingsController);\n\t\n\t  this.speedController = new SpeedSettingController(document.getElementById('speed'), document.getElementById('speed-increase'), document.getElementById('speed-decrease'), function (value) {\n\t    gameController.updateSpeed = value;\n\t    return gameController.updateSpeed;\n\t  });\n\t};\n\t\n\texports.default = SettingsController;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(11);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(13)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"0\\\":\\\"s\\\",\\\"1\\\":\\\"a\\\",\\\"2\\\":\\\"s\\\",\\\"3\\\":\\\"s\\\",\\\"4\\\":\\\"-\\\",\\\"5\\\":\\\"l\\\",\\\"6\\\":\\\"o\\\",\\\"7\\\":\\\"a\\\",\\\"8\\\":\\\"d\\\",\\\"9\\\":\\\"e\\\",\\\"10\\\":\\\"r\\\",\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../node_modules/style-loader/index.js!./../../node_modules/css-loader/index.js!./style.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"0\\\":\\\"s\\\",\\\"1\\\":\\\"a\\\",\\\"2\\\":\\\"s\\\",\\\"3\\\":\\\"s\\\",\\\"4\\\":\\\"-\\\",\\\"5\\\":\\\"l\\\",\\\"6\\\":\\\"o\\\",\\\"7\\\":\\\"a\\\",\\\"8\\\":\\\"d\\\",\\\"9\\\":\\\"e\\\",\\\"10\\\":\\\"r\\\",\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../node_modules/style-loader/index.js!./../../node_modules/css-loader/index.js!./style.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(12)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.ae246469322358545ef9.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ae246469322358545ef9\n **/","import GameController from './game-controller';\nimport SettingsController from './menu/settings-controller';\n\nrequire('./Assets/style.scss');\n\n(function(window, document) {\n\n  const canvas = document.getElementById('game-canvas');\n  const context = canvas.getContext('2d');\n\n  const fpsLabel = document.getElementById('fps');\n  const scoreLabel = document.getElementById('score');\n\n  const gameController = new GameController(canvas, context, canvas.width, canvas.height, window.requestAnimationFrame);\n  const settingsController = new SettingsController(document, gameController);\n\n  gameController.scoreUpdateHook = (score) => {\n    scoreLabel.textContent = score;\n  };\n\n  setInterval(() => {\n    fpsLabel.textContent = gameController.fps.toFixed(2);\n  }, 500);\n\n  gameController.start();\n\n}(window, window.document));\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/index.js\n **/","import InputController from './input-controller';\nimport MenuController from './menu/menu-controller';\nimport SnakeController from './snake-controller';\nimport { FoodFactory } from './food-controller';\n\nclass GameController {\n  constructor(element, context, width, height, requestAnimFrame) {\n    if (width <= 0) throw new Error('width must be greater than 0');\n    if (height <= 0) throw new Error('height must be greater than 0');\n    if (! context) throw new Error('Missing context');\n    if (! requestAnimFrame) throw new Error('Missing requestAnimFrame');\n\n    this.ctx = context;\n    this.element = element;\n    this.width = width;\n    this.height = height;\n    this.isGameRunning = false;\n    this.requestAnimFrame = requestAnimFrame;\n\n    const segmentSize = 16;\n    const gameWidth = Math.floor(width / segmentSize);\n    const gameHeight = Math.floor(height / segmentSize);\n    const offsetX = (this.width - segmentSize) / 2;\n    const offsetY = (this.height - segmentSize) / 2;\n\n    this.snakeController = new SnakeController(context, 16, gameWidth, gameHeight);\n    this.foodController = new FoodFactory(context, segmentSize, offsetX, offsetY, gameWidth, gameHeight);\n    this.menuController = new MenuController(element, context, width, height, this.onGameStart.bind(this));\n    this.inputController = new InputController(element, {\n      keyup : this.snakeController.onKeyInput.bind(this.snakeController),\n    });\n\n    this.scoreUpdateHook = () => {};\n\n    this.currentFood = null;\n\n    this.updateSpeed = 1000; // mili\n\n    this.fps = 0;\n    this.lastRun = null;\n\n    this.showMenu();\n  }\n\n  clearScreen() {\n    this.ctx.clearRect(0, 0, this.width, this.height);\n  }\n\n  updateFPS() {\n    var delta = (new Date().getTime() - this.lastRun) / 1000;\n    this.lastRun = new Date().getTime();\n    this.fps = 1 / delta;\n  }\n\n  renderLoop() {\n    if (!this.isGameRunning) return;\n    var requestAnimFrame = this.requestAnimFrame;\n    var renderLoop = this.renderLoop.bind(this);\n\n    if (! this.lastRun) {\n      this.lastRun = new Date().getTime();\n      requestAnimFrame(renderLoop);\n      return;\n    }\n\n    if (this.currentFood) {\n      this.currentFood.render();\n    }\n    this.snakeController.render();\n\n    this.updateFPS();\n\n    requestAnimFrame(renderLoop);\n  }\n\n  controllerLoop() {\n    if (!this.isGameRunning) return;\n    this.snakeController.move();\n\n    if (this.currentFood) {\n      if (this.snakeController.doesCollideWith(this.currentFood.position)) {\n        // console.log(`NomNom: ${[this.currentFood.position].map(v => `(${v.x},${v.y})`)}`);\n        // Nom-Nom\n        this.currentFood = null;\n        this.snakeController.increaseTail();\n        this.scoreUpdateHook(this.snakeController.tailStack.length);\n      }\n    } else {\n      this.updateFood();\n    }\n\n    if (this.snakeController.hasCollided()) {\n      this.gameOver();\n      return;\n    }\n\n    setTimeout(this.controllerLoop.bind(this), this.updateSpeed);\n  }\n\n  showMenu() {\n    this.menuController.render(this.isGameOver);\n  }\n\n  onGameStart() {\n    this.snakeController.reset();\n    this.clearScreen();\n    this.isGameRunning = true;\n    this.isGameOver = false;\n    this.renderLoop();\n    this.controllerLoop();\n  }\n\n  gameOver() {\n    this.isGameRunning = false;\n    this.isGameOver = true;\n    this.clearScreen();\n    this.showMenu();\n  }\n\n  updateFood() {\n    let food = this.foodController.randomFood();\n\n    while (this.snakeController.doesCollideWith(food)) {\n      food = this.foodController.randomFood();\n    }\n\n    this.currentFood = food;\n  }\n\n  start() {\n    this.clearScreen();\n    this.showMenu();\n  }\n}\n\nexport default GameController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/game-controller.js\n **/","class InputController {\n  /**\n   * element {DOM-Element} - Canvas element\n   * keyHandlers {Object {inputEventType : Callback}} - Key handling callbacks\n   */\n  constructor(element, inputHandlers) {\n    this.element = element;\n    this.inputHandlers = inputHandlers;\n\n    this.eventListenerRefs = {};\n\n    Object.keys(inputHandlers).forEach((key) => {\n      this.eventListenerRefs[key] = (event) => {\n        if (event && inputHandlers && inputHandlers[key]) {\n          inputHandlers[key](event);\n        }\n      };\n    });\n\n    this.suppressRef = this.suppressKeyDownMovement.bind(this);\n\n    this.attachListeners();\n  }\n\n  suppressKeyDownMovement(event) {\n    switch (event.keyCode) {\n      case 37: case 39: case 38: case 40: // Arrow keys\n      case 32: event.preventDefault(); break; // Space\n      default: break; // do not block other keys\n    }\n  }\n\n  attachListeners() {\n    Object.keys(this.eventListenerRefs).forEach((key) => {\n      window.addEventListener(key, this.eventListenerRefs[key], true);\n    });\n    window.addEventListener('keydown', this.suppressRef, false);\n  }\n\n  detachListeners() {\n    Object.keys(this.eventListenerRefs).forEach((key) => {\n      window.removeEventListener(key, this.eventListenerRefs[key]);\n    });\n    window.removeEventListener('keydown', this.suppressRef);\n  }\n}\n\nexport default InputController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/input-controller.js\n **/","import ButtonController from './button-controller';\n\nclass MenuController {\n  constructor(element, context, maxWidth, maxHeight, onStartCallback) {\n    this.ctx = context;\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this.onStartCallback = onStartCallback;\n\n    this.playButton = new ButtonController(element, context, maxWidth, maxHeight, onStartCallback);\n  }\n\n  getMenuText(isGameOver) {\n    isGameOver = isGameOver || false;\n    if (isGameOver) {\n      return 'Game Over';\n    }\n    return 'Ready';\n  }\n\n  render(isGameOver) {\n    this.ctx.fillStyle = '#90CAF9';\n    this.ctx.fillRect(this.maxWidth * 0.2, this.maxHeight * 0.2, this.maxWidth * 0.6, this.maxHeight * 0.6);\n    this.ctx.strokeStyle = '#42A5F5';\n    this.ctx.strokeRect(this.maxWidth * 0.2, this.maxHeight * 0.2, this.maxWidth * 0.6, this.maxHeight * 0.6);\n    this.ctx.fillStyle = 'black';\n    this.ctx.font = '30px Arial';\n    this.ctx.fillText(this.getMenuText(isGameOver), this.maxWidth * 0.2 + 20, this.maxHeight * 0.2 + 40, this.maxWidth * 0.6);\n    this.playButton.setup(isGameOver);\n    this.playButton.render();\n  }\n}\n\nexport default MenuController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/menu/menu-controller.js\n **/","\nconst defaultButtonColors = Object.freeze({\n  base: '#F44336',\n  pressed: '#D32F2F',\n  hover: '#E53935',\n});\n\nclass ButtonController {\n  constructor(element, context, maxWidth, maxHeight, onStartCallback) {\n    this.ctx = context;\n    this.element = element;\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this.onStartCallback = onStartCallback;\n\n    this.buttonLeft = this.maxWidth * 0.2 + 20;\n    this.buttonTop = this.maxHeight * 0.6 - 20;\n    this.buttonWidth = this.maxWidth * 0.6 - 40;\n\n    this.buttonHeight = 80;\n    this.buttonColor = defaultButtonColors.base;\n    this.buttonColorPressed = defaultButtonColors.pressed;\n    this.buttonColorHover = defaultButtonColors.hover;\n\n    // Event Handlers Init\n    this.eventRefs = {\n      mousedown : this.handleClick.bind(this),\n      mouseup : this.handleRelease.bind(this),\n      mousemove : this.handleMove.bind(this),\n    };\n  }\n\n  setup(isGameOver) {\n    this.buttonText = isGameOver ? 'Play Again' : 'Play Game';\n    this.isButtonClicked = false;\n    this.isAwaitingUnclick = false;\n    this.isButtonHovered = false;\n    this.attachListeners();\n  }\n\n  handleClick(event) {\n    let elemLeft = this.element.offsetLeft;\n    let elemTop = this.element.offsetTop;\n\n    let x = event.pageX - elemLeft;\n    let y = event.pageY - elemTop;\n\n    if (x >= this.buttonLeft && x <= this.buttonLeft + this.buttonWidth &&\n        y >= this.buttonTop && y <= this.buttonTop + this.buttonHeight) {\n      this.isButtonClicked = true;\n    } else {\n      this.isButtonClicked = false;\n    }\n\n    this.render();\n  }\n\n  handleRelease(event) {\n    let elemLeft = this.element.offsetLeft;\n    let elemTop = this.element.offsetTop;\n\n    let x = event.pageX - elemLeft;\n    let y = event.pageY - elemTop;\n\n    if (x >= this.buttonLeft && x <= this.buttonLeft + this.buttonWidth &&\n        y >= this.buttonTop && y <= this.buttonTop + this.buttonHeight) {\n      if (this.isButtonClicked) {\n        this.detachListeners();\n        this.onStartCallback();\n        this.element.style.cursor = 'auto';\n        return;\n      }\n\n      this.isButtonClicked = false;\n    }\n    this.render();\n  }\n\n  handleMove(event) {\n    let elemLeft = this.element.offsetLeft;\n    let elemTop = this.element.offsetTop;\n\n    let x = event.pageX - elemLeft;\n    let y = event.pageY - elemTop;\n\n    if (x >= this.buttonLeft && x <= this.buttonLeft + this.buttonWidth &&\n        y >= this.buttonTop && y <= this.buttonTop + this.buttonHeight) {\n      this.isButtonHovered = true;\n      this.element.style.cursor = 'pointer';\n      this.render();\n    } else if (this.isButtonHovered) {\n      this.isButtonHovered = false;\n      this.isButtonClicked = false;\n      this.element.style.cursor = 'auto';\n      this.render();\n    }\n  }\n\n  attachListeners() {\n    this.element.addEventListener('mousedown', this.eventRefs.mousedown, false);\n    this.element.addEventListener('mouseup', this.eventRefs.mouseup, false);\n    this.element.addEventListener('mousemove', this.eventRefs.mousemove, false);\n  }\n\n  detachListeners() {\n    this.element.removeEventListener('mousedown', this.eventRefs.mousedown);\n    this.element.removeEventListener('mouseup', this.eventRefs.mouseup);\n    this.element.removeEventListener('mousemove', this.eventRefs.mousemove);\n  }\n\n  render() {\n    if (this.isButtonClicked) {\n      this.ctx.fillStyle = this.buttonColorPressed;\n    } else if (this.isButtonHovered) {\n      this.ctx.fillStyle = this.buttonColorHover;\n    } else {\n      this.ctx.fillStyle = this.buttonColor;\n    }\n    this.ctx.fillRect(this.buttonLeft, this.buttonTop, this.buttonWidth, this.buttonHeight);\n    this.ctx.fillStyle = 'black';\n    this.ctx.font = '30px Arial';\n    this.ctx.fillText(this.buttonText, this.maxWidth * 0.2 + 40, this.maxHeight * 0.6 + 30, this.maxWidth * 0.6);\n  }\n}\n\nexport default ButtonController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/menu/button-controller.js\n **/","import Position from './position';\n\nconst Direction = Object.freeze({\n  up : 0,\n  right : 1,\n  down : 2,\n  left : 3,\n});\n\nclass SnakeController {\n  constructor(context, segmentSize, gameWidth, gameHeight) {\n    // Offset is in pixels\n    if (! context) throw new Error('Missing context');\n\n    this.ctx = context;\n    this.gameWidth = gameWidth;\n    this.gameHeight = gameHeight;\n    this.size = segmentSize;\n\n    this.reset();\n  }\n\n  reset() {\n    this.head = new Position(\n      Math.floor(this.gameWidth / 2),\n      Math.floor(this.gameHeight / 2)\n    );\n    this.tailStack = [];\n    this.direction = Direction.up;\n    this.shouldRedraw = true;\n\n    this.removedPiece = null;\n    this.canChangeDirection = true;\n  }\n\n  onKeyInput(event) {\n    if (!event) return;\n    if (this.canChangeDirection) {\n      switch (event.keyCode) {\n        case 37:\n          if (this.direction !== Direction.right) {\n            this.direction = Direction.left;\n            this.canChangeDirection = false;\n          }\n          break;\n        case 38:\n          if (this.direction !== Direction.down) {\n            this.direction = Direction.up;\n            this.canChangeDirection = false;\n          }\n          break;\n        case 39:\n          if (this.direction !== Direction.left) {\n            this.direction = Direction.right;\n            this.canChangeDirection = false;\n          }\n          break;\n        case 40:\n          if (this.direction !== Direction.up) {\n            this.direction = Direction.down;\n            this.canChangeDirection = false;\n          }\n          break;\n        default: break;\n      }\n    }\n  }\n\n  increaseTail() {\n    if (this.tailStack.length > 0) {\n      this.tailStack.push(this.tailStack[this.tailStack.length - 1]);\n    } else {\n      this.tailStack.push(this.removedPiece);\n    }\n  }\n\n  move() {\n    // Case 0: Head and no tail\n    // Case 1: Head and tail\n    this.removedPiece = this.head;\n    if (this.tailStack.length > 0) {\n      this.tailStack.unshift(this.head);\n      this.removedPiece = this.tailStack.pop();\n    }\n    switch (this.direction) {\n      case Direction.up:\n        this.head = new Position(this.head.x, this.head.y - 1);\n        break;\n      case Direction.right:\n        this.head = new Position(this.head.x + 1, this.head.y);\n        break;\n      case Direction.down:\n        this.head = new Position(this.head.x, this.head.y + 1);\n        break;\n      case Direction.left:\n        this.head = new Position(this.head.x - 1, this.head.y);\n        break;\n      default:\n        break;\n    }\n    this.shouldRedraw = true;\n    this.canChangeDirection = true;\n    // console.log(`Head: ${this.head.toString()}, Tail: [${this.tailStack.map(v => v.toString())}]`);\n  }\n\n  /**\n   * @param  {Position} gameObject Position of object to determine collisions\n   * @return {bool}                Does it ~~blend~~ collide\n   */\n  doesCollideWith(gameObject) {\n    return this.collidesWithTail(gameObject) || this.head.equals(gameObject);\n  }\n\n  collidesWithTail(gameObject) {\n    for (var i = 0; i < this.tailStack.length; i++) {\n      if (this.tailStack[i].equals(gameObject)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  hasCollided() {\n    // Edge\n    if (this.head.x < 0 || this.head.x >= this.gameWidth || this.head.y < 0 || this.head.y >= this.gameHeight) {\n      return true;\n    }\n    // TODO: Itself\n    this.collidesWithTail(this.head);\n\n    return false;\n  }\n\n  render() {\n    if (this.shouldRedraw) {\n      this.ctx.fillStyle = '#FF0000';\n      const renderPosition = this.head.toRenderDomain(this.size);\n      this.ctx.fillRect(renderPosition.x, renderPosition.y, this.size, this.size);\n\n      if (this.removedPiece) {\n        const removedRenderPostion = this.removedPiece.toRenderDomain(this.size);\n        this.ctx.clearRect(removedRenderPostion.x, removedRenderPostion.y, this.size, this.size);\n      }\n      this.shouldRedraw = false;\n    }\n  }\n}\n\nexport default SnakeController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/snake-controller.js\n **/","function randomRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nclass Position {\n  /*\n   * A game-domain object for defining where elements of game-objects exist.\n   * Position will always be a multiple of 1 (for snake) and will be used to\n   *  determine hit boxes (see `equals`) and for renderinging\n   */\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  toString() {\n    return `(${this.x},${this.y})`;\n  }\n\n  /**\n   * Generate random position in x,y range\n   * @param  {int} minX Minimum x position (inclusive)\n   * @param  {int} minY Minimum y position (inclusive)\n   * @param  {int} maxX Maximum x position (inclusive)\n   * @param  {int} maxY Maximum y position (inclusive)\n   * @return {Position} Generated random position\n   */\n  static random(minX, minY, maxX, maxY) {\n    return new Position(randomRange(minX, maxX - 1), randomRange(minY, maxY - 1));\n  }\n\n  equals(otherPosition) {\n    return this.x === otherPosition.x && this.y === otherPosition.y;\n  }\n\n  /**\n   * Translates game-domain to render-domain to simplify rendering the game object\n   * @param  {int} segmentSize Size of each game segmentSize\n   * @param  {int} offsetX     Any offset for rendering in X direction\n   * @param  {int} offsetY     Any offset for rendering in X direction\n   * @return {Position}        render-domain position\n   */\n  toRenderDomain(segmentSize, offsetX, offsetY) {\n    offsetX = offsetX || 0;\n    offsetY = offsetY || 0;\n    return new Position(segmentSize * this.x + offsetX, segmentSize * this.y + offsetY);\n  }\n}\n\nexport default Position;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/position.js\n **/","import Position from './position';\n\nclass Food {\n  constructor(context, position, size, offsetX, offsetY) {\n    this.ctx = context;\n    this.position = position;\n    this.size = size;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.hasDrawn = false;\n    // console.log('Food @', position);\n  }\n\n  render() {\n    if (this.hasDrawn) return;\n    this.ctx.fillStyle = '#0000FF';\n    const renderPosition = this.position.toRenderDomain(this.size);\n    this.ctx.fillRect(renderPosition.x, renderPosition.y, this.size, this.size);\n  }\n}\n\nclass FoodFactory {\n  /*\n   * `width`, `height` are game-domain max-range definitions (ex. 20 for a 400px board at 20px `segmentSize`)\n   */\n  constructor(context, segmentSize, offsetX, offsetY, width, height) {\n    this.ctx = context;\n    this.segmentSize = segmentSize;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.width = width;\n    this.height = height;\n  }\n\n  randomFood() {\n    return new Food(\n      this.ctx,\n      Position.random(0, 0, this.width, this.height),\n      this.segmentSize,\n      this.offsetX,\n      this.offsetY\n    );\n  }\n}\n\nexport { FoodFactory, Food };\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/food-controller.js\n **/","\nclass SpeedSettingController {\n  constructor(labelElement, increaseElement, decreaseElement, updateGameSpeedFunc) {\n    this.labelElement = labelElement;\n    this.increaseElement = increaseElement;\n    this.decreaseElement = decreaseElement;\n    this.updateGameSpeedFunc = updateGameSpeedFunc;\n\n    this.speed = 1;\n\n    this.listenerRefs = {\n      increase : this.onClick.bind(this, true),\n      decrease : this.onClick.bind(this, false),\n    };\n    this.attachListeners();\n  }\n\n  onClick(shouldIncrease) {\n    this.speed *= shouldIncrease ? 2 : 0.5;\n    console.log('next speed', this.speed);\n    this.updateGameSpeedFunc(1000 / (this.speed));\n    this.labelElement.textContent = (this.speed).toFixed(2);\n  }\n\n  attachListeners() {\n    this.increaseElement.addEventListener('click', this.listenerRefs.increase, false);\n    this.decreaseElement.addEventListener('click', this.listenerRefs.decrease, false);\n  }\n\n  detachListeners() {\n    this.increaseElement.removeEventListener('click', this.listenerRefs.increase);\n    this.decreaseElement.removeEventListener('click', this.listenerRefs.decrease);\n  }\n}\n\nclass SettingsController {\n  constructor(document, gameController) {\n    this.speedController = new SpeedSettingController(\n      document.getElementById('speed'),\n      document.getElementById('speed-increase'),\n      document.getElementById('speed-decrease'),\n      value => {\n        gameController.updateSpeed = value;\n        return gameController.updateSpeed;\n      }\n    );\n  }\n}\n\nexport default SettingsController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/menu/settings-controller.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"0\\\":\\\"s\\\",\\\"1\\\":\\\"a\\\",\\\"2\\\":\\\"s\\\",\\\"3\\\":\\\"s\\\",\\\"4\\\":\\\"-\\\",\\\"5\\\":\\\"l\\\",\\\"6\\\":\\\"o\\\",\\\"7\\\":\\\"a\\\",\\\"8\\\":\\\"d\\\",\\\"9\\\":\\\"e\\\",\\\"10\\\":\\\"r\\\",\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../node_modules/style-loader/index.js!./../../node_modules/css-loader/index.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"0\\\":\\\"s\\\",\\\"1\\\":\\\"a\\\",\\\"2\\\":\\\"s\\\",\\\"3\\\":\\\"s\\\",\\\"4\\\":\\\"-\\\",\\\"5\\\":\\\"l\\\",\\\"6\\\":\\\"o\\\",\\\"7\\\":\\\"a\\\",\\\"8\\\":\\\"d\\\",\\\"9\\\":\\\"e\\\",\\\"10\\\":\\\"r\\\",\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../node_modules/style-loader/index.js!./../../node_modules/css-loader/index.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"0\\\":\\\"s\\\",\\\"1\\\":\\\"a\\\",\\\"2\\\":\\\"s\\\",\\\"3\\\":\\\"s\\\",\\\"4\\\":\\\"-\\\",\\\"5\\\":\\\"l\\\",\\\"6\\\":\\\"o\\\",\\\"7\\\":\\\"a\\\",\\\"8\\\":\\\"d\\\",\\\"9\\\":\\\"e\\\",\\\"10\\\":\\\"r\\\",\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!./../../node_modules/style-loader/index.js!./../../node_modules/css-loader/index.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/Assets/style.scss\n ** module id = 10\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./~/extract-text-webpack-plugin/loader.js?{\"0\":\"s\",\"1\":\"a\",\"2\":\"s\",\"3\":\"s\",\"4\":\"-\",\"5\":\"l\",\"6\":\"o\",\"7\":\"a\",\"8\":\"d\",\"9\":\"e\",\"10\":\"r\",\"omit\":1,\"extract\":true,\"remove\":true}!./~/style-loader!./~/css-loader!./app/Assets/style.scss\n ** module id = 11\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 12\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}